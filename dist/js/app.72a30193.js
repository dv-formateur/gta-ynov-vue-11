(function(e){function t(t){for(var r,i,s=t[0],u=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],n[i]&&d.push(n[i][0]),n[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var u=a[s];0!==n[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"089a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i={name:"app"},s=i,u=(a("5c0b"),a("2877")),l=Object(u["a"])(s,n,o,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,p=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[e._m(0),a("form",{staticClass:"uk-form-horizontal uk-margin",attrs:{"uk-grid":""},on:{submit:function(t){return t.preventDefault(),e.signin(t)}}},[e._l(e.userInputs,function(t){return a("div",{key:t.key,staticClass:"uk-margin uk-width-1-1"},["email"==t.type?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],class:["uk-input",{"uk-form-danger":t.isEmpty}],attrs:{placeholder:t.placeholder,type:"email"},domProps:{value:t.value},on:{change:function(a){e.checkEmpty(t)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})]):e._e(),"password"==t.type?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],class:["uk-input",{"uk-form-danger":t.isEmpty}],attrs:{placeholder:t.placeholder,type:"password"},domProps:{value:t.value},on:{change:function(a){e.checkEmpty(t)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})]):e._e()])}),e.isSigningIn?a("div",{staticClass:"uk-width-1-1"}):a("div",{staticClass:"uk-width-1-1"},[a("button",{staticClass:"uk-button uk-button-primary uk-width-1-1",attrs:{type:"submit"}},[e._v("Se connecter")])])],2)])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light",attrs:{"data-src":"img/login/background.jpg","uk-img":""}},[a("h1",[e._v("Connexion")])])}],m=(a("96cf"),a("1da1")),f=a("bc3a"),h=a.n(f),g={name:"Login",data:function(){return{userInputs:{email:{id:"email",value:"",placeholder:"E-mail",isEmpty:!1,type:"email"},password:{id:"password",value:"",placeholder:"Mot de passe",isEmpty:!1,type:"password"}},redirectionURL:this.$route.query.redirect,isSigningIn:!1}},props:{},methods:{signin:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(n in r=this.userInputs,r)console.log(r[n]),"email"==r[n].type&&(t=r[n].value),"password"==r[n].type&&(a=r[n].value);this.checkAccount(t,a);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkAccount:function(e,t){var a=this;h.a.post("https://gta-ynov-vuejs-api.herokuapp.com/login",{email:e,password:t}).then(function(e){localStorage.jwt=e.data.token,localStorage.user=JSON.stringify(e.data.user),a.$router.push("dashboard")})},checkEmpty:function(e){e.isEmpty=""===e.value}}},k=g,y=(a("8131"),Object(u["a"])(k,d,v,!1,null,"5c91a6b6",null));y.options.__file="Login.vue";var b=y.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("navbar"),a("p",[e._v("Bienvenue sur votre dashboard ")])],1)},w=[],C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("nav",{staticClass:"uk-navbar-container",attrs:{"uk-navbar":""}},[e._m(0),a("div",{staticClass:"uk-navbar-right"},[a("ul",{staticClass:"uk-navbar-nav"},[e._m(1),a("li",[a("router-link",{attrs:{to:"ajouterUtilisateur"}},[e._v("Profil")])],1),a("li",[a("router-link",{attrs:{to:"ajouterUtilisateur"}},[e._v("Gestion")])],1)]),e.isConnected()?a("button",{staticClass:"uk-button uk-button-danger",on:{click:function(t){e.logout()}}},[e._v("Deconnexion")]):e._e()])])])},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uk-navbar-left"},[a("ul",{staticClass:"uk-navbar-nav"},[a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#"}},[e._v("Active")])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Parent")]),a("div",{staticClass:"uk-navbar-dropdown"},[a("ul",{staticClass:"uk-nav uk-navbar-dropdown-nav"},[a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#"}},[e._v("Active")])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Item")])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Item")])])])])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Item")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#"}},[e._v("Active")])])}],j={name:"Navbar",methods:{isConnected:function(){return null!=localStorage.getItem("jwt")},logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("user"),this.$router.push("login")}}},x=j,S=(a("c312"),Object(u["a"])(x,C,E,!1,null,"5449bfe2",null));S.options.__file="Navbar.vue";var A=S.exports,O={name:"Dashboard",components:{Navbar:A}},$=O,I=(a("c5e2"),Object(u["a"])($,_,w,!1,null,"c1b86e4c",null));I.options.__file="Dashboard.vue";var P=I.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createUser"},[a("h1",[e._v("Ajouter un Utilisateur")]),a("form",{staticClass:"uk-form-horizontal uk-margin",attrs:{"uk-grid":""},on:{submit:function(t){return t.preventDefault(),e.ajouter(t)}}},[e._l(e.userInputs,function(t){return a("div",{key:t.key,staticClass:"uk-margin uk-width-1-1"},[a("div",["checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],class:["uk-input",{"uk-form-danger":t.isEmpty}],attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:[function(a){var r=t.value,n=a.target,o=!!n.checked;if(Array.isArray(r)){var i=null,s=e._i(r,i);n.checked?s<0&&e.$set(t,"value",r.concat([i])):s>-1&&e.$set(t,"value",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(t,"value",o)},function(a){e.checkEmpty(t)}]}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],class:["uk-input",{"uk-form-danger":t.isEmpty}],attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:[function(a){e.$set(t,"value",null)},function(a){e.checkEmpty(t)}]}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],class:["uk-input",{"uk-form-danger":t.isEmpty}],attrs:{placeholder:t.placeholder,type:t.type},domProps:{value:t.value},on:{change:function(a){e.checkEmpty(t)},input:function(a){a.target.composing||e.$set(t,"value",a.target.value)}}})])])}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRole,expression:"selectedRole"}],staticClass:"uk-input",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedRole=t.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:""}},[e._v("-- Role --")]),a("option",{attrs:{value:"respequipe"}},[e._v("Résponsable d'équipe")]),a("option",{attrs:{value:"drh"}},[e._v("Directeur des ressouces humaines")]),a("option",{attrs:{value:"salarie"}},[e._v("Salarié")])]),e.isSigningIn?a("div",{staticClass:"uk-width-1-1"}):a("div",{staticClass:"uk-width-1-1"},[a("button",{staticClass:"uk-button uk-button-primary uk-width-1-1",attrs:{type:"submit"}},[e._v("Créer")])])],2)])},R=[],U={name:"CreateUser",data:function(){return{userInputs:{lastName:{id:"nom",value:"",placeholder:"Votre nom",isEmpty:!1,type:"text"},firstName:{id:"prenom",value:"",placeholder:"Votre prénom",isEmpty:!1,type:"text"},email:{id:"email",value:"",placeholder:"E-mail",isEmpty:!1,type:"email"},password:{id:"password",value:"",placeholder:"Mot de passe",isEmpty:!1,type:"password"},verifyPassword:{id:"verifyPassword",value:"",placeholder:"Confirmer mot de passe",isEmpty:!1,type:"password"}},redirectionURL:this.$route.query.redirect,isSigningIn:!1,selectedRole:""}},props:{},methods:{ajouter:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(s in o=this.selectedRole,i=this.userInputs,i)"email"==i[s].type&&(r=i[s].value),"password"==i[s].id&&(n=i[s].value),"verifyPassword"==i[s].id&&(passwordVerifyUser=i[s].value),"prenom"==i[s].id&&(t=i[s].value),"nom"==i[s].id&&(a=i[s].value);n!=passwordVerifyUser||this.createAccount(t,a,r,n,o);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),createAccount:function(e,t,a,r,n){var o=e+" "+t;h.a.post("https://gta-ynov-vuejs-api.herokuapp.com/register",{name:o,email:a,password:r,role:n}).then(function(e){localStorage.jwt=e.data.token,localStorage.user=JSON.stringify(e.data.user),console.log(e)})},checkEmpty:function(e){e.isEmpty=""===e.value}}},q=U,D=(a("a850"),Object(u["a"])(q,N,R,!1,null,"42a31d13",null));D.options.__file="CreateUser.vue";var M=D.exports;r["a"].use(p["a"]);var J=new p["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:b,meta:{guest:!0}},{path:"/dashboard",name:"Dashboard",component:P,meta:{requiresAuth:!0}},{path:"/ajouterUtilisateur",name:"CreateUser",component:M,meta:{requiresAuth:!0}}]});J.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresAuth}))if(null==localStorage.getItem("jwt"))a({path:"/login",params:{nextUrl:e.fullPath}});else{var r=JSON.parse(localStorage.getItem("user"));e.matched.some(function(e){return e.meta.role})?r.role===e.meta.role?a():a({name:"Dashboard"}):a()}else e.matched.some(function(e){return e.meta.guest})?null==localStorage.getItem("jwt")?a():a({name:"Dashboard"}):a()});var L=J,V=a("8323"),T=a.n(V),z=a("263c"),B=a.n(z),F=a("9483");Object(F["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].config.productionTip=!1,T.a.use(B.a),new r["a"]({router:L,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("5e27"),n=a.n(r);n.a},"5e27":function(e,t,a){},"6ead":function(e,t,a){},8131:function(e,t,a){"use strict";var r=a("a3dd"),n=a.n(r);n.a},a3dd:function(e,t,a){},a850:function(e,t,a){"use strict";var r=a("dacc"),n=a.n(r);n.a},c312:function(e,t,a){"use strict";var r=a("089a"),n=a.n(r);n.a},c5e2:function(e,t,a){"use strict";var r=a("6ead"),n=a.n(r);n.a},dacc:function(e,t,a){}});
//# sourceMappingURL=app.72a30193.js.map